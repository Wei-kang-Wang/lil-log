---
layout: post
comments: false
title: "Python学习"
date: 2021-12-30 01:09:00

---

> This post of advanced Python.


<!--more-->


## 1. argparse模块

argsparse是python的命令行解析的标准模块，内置于python，不需要安装。这个库可以让我们直接在命令行中就可以向程序中传入参数并让程序运行。

新建一个文件夹demo，内部新建一个python文件test.py。下面修改这个test.py文件来测试各个功能。

**1.1. 传入一个参数**

```python
import argparse

parser = argparse.ArgumentParser(description='命令行中传入一个数字')  
parser.add_argument('integers', type=str, help='传入的数字')     #type是要传入的参数的数据类型  help是该参数的提示信息
args = parser.parse_args()

print(args)     #打印出来所传入的参数
```

在这个代码中，我们在命令行传入一个数字。使用方法是打开命令行，先将工作目录cd到demo，然后在命令行中输入python test.py -h或者python test.py --help：

```python
python test.py
```

运行结果如下：

```python
usage: test.py [-h] integers

命令行中传入一个数字

positional arguments:
  integers    传入的数字

optional arguments:
  -h, --help  show this help message and exit
```

现在我们在命令行中给test.py 传入一个参数5：

```python
python test.py 5
```

运行，得到的运行结果是

```python
Namespace(integers='5')
```


**1.2. 操作args字典**

其实上面得到的这个结果Namespace(integers='5')是一种类似于python字典的数据类型。

我们可以使用 arg.参数名来提取这个参数：

```python
import argparse

parser = argparse.ArgumentParser(description='命令行中传入一个数字')
parser.add_argument('integers', type=str, help='传入的数字')          #type是要传入的参数的数据类型  help是该参数的提示信息
args = parser.parse_args()

print(args.integers)       #打印integers参数
```

在命令行中运行 python demo.py 5 , 运行结果为：

```python
5
```














---
